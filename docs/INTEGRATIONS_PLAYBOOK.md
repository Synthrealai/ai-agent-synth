# Integrations Playbook

## Goal
Standardize build/deploy/integration workflows for Codex + Claude Code + Supabase + Vercel.

## Environment Keys
- `GITHUB_TOKEN`
- `VERCEL_TOKEN`
- `SUPABASE_ACCESS_TOKEN`
- `SUPABASE_PROJECT_REF`

## Base Flow
1. Build feature branch + tests.
2. Run local validation (`pnpm -r typecheck`, app tests).
3. Deploy preview to Vercel.
4. Apply DB changes on Supabase (if needed).
5. Capture verification via curl.

## cURL Verification Template
```bash
curl -sS http://127.0.0.1:3000/api/health | jq
curl -sS http://127.0.0.1:3000/api/tasks?limit=10 | jq
```

## Vercel CLI Template
```bash
npx vercel pull --yes --environment=preview
npx vercel deploy --prebuilt
```

## Supabase CLI Template
```bash
supabase login --token "$SUPABASE_ACCESS_TOKEN"
supabase link --project-ref "$SUPABASE_PROJECT_REF"
supabase db push
```

## GitHub CLI Template
```bash
gh repo view

gh issue create --title "Launch task" --body "Generated by Synthor runtime"
```

## Guardrail
External posting, production deploys, and financial actions remain approval-gated.
